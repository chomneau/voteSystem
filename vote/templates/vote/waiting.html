<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Waiting to Vote</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes pulse {
        0%, 100% { box-shadow: 0 0 0 0 #3b82f680; }
        50% { box-shadow: 0 0 0 12px #3b82f620; }
      }
      .animate-pulse-glow {
        animation: pulse 1.5s infinite;
      }
      @keyframes card-in {
        from { opacity: 0; transform: scale(0.96) translateY(40px); }
        to { opacity: 1; transform: scale(1) translateY(0); }
      }
      .animate-card-in { animation: card-in 0.8s cubic-bezier(.22,1,.36,1) both; }
      @keyframes shimmer {
        0% { background-position: -400px 0; }
        100% { background-position: 400px 0; }
      }
      .shimmer {
        background: linear-gradient(90deg, #e0e7ef 25%, #f3f4f6 50%, #e0e7ef 75%);
        background-size: 400px 100%;
        animation: shimmer 1.5s infinite linear;
      }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 via-blue-50 to-blue-200 min-h-screen min-h-[100dvh] flex items-start justify-center p-0 m-0 pt-[0vh] md:pt-0 md:items-center">
    <div class="bg-white/90 backdrop-blur rounded-none md:rounded-2xl shadow-2xl p-6 sm:p-8 w-full md:h-auto md:max-w-md flex flex-col items-center justify-start md:justify-center border-0 md:border border-blue-100 animate-card-in">
      <div class="flex flex-col items-center mb-6">
        <div class="mb-2 animate-spin-slow">
          <svg class="w-20 h-20 text-blue-500" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-20"/>
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l4 2"/>
          </svg>
        </div>
        <h1 class="text-3xl font-extrabold text-blue-700 mb-1 text-center tracking-tight animate-fade-in">You're Almost There!</h1>
        <div class="flex items-center gap-2 mt-2 animate-fade-in">
          <svg class="w-6 h-6 text-yellow-400 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01"/></svg>
          <span class="text-lg text-yellow-600 font-semibold">Voting has not started yet.<br>Please wait for the admin to open voting.</span>
        </div>
        <p class="text-gray-600 text-center animate-fade-in mt-2">Your unique voting code is:</p>
      </div>
      <div class="text-3xl font-mono font-bold text-blue-900 bg-blue-100 rounded-xl px-6 py-4 mb-8 tracking-widest select-all animate-pulse-glow border-2 border-blue-300 shadow-lg shimmer">{{ token }}</div>
      <form method="get" action="{% url 'vote' token=token %}" class="w-full flex flex-col items-center" id="join-form">
        <button id="join-btn" type="submit" class="transition bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-xl text-xl shadow-lg mb-2 flex items-center justify-center">
          <span id="join-text">Join the Voting</span>
          <svg id="join-spinner" class="hidden animate-spin ml-2 h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path></svg>
        </button>
      </form>
      <div class="text-xs text-gray-500 text-center mt-6">Keep this code private. Click the button when you are ready to vote.<br>For help, contact the election organizer.</div>
    </div>
    <style>
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in { animation: fade-in 1s ease; }
    @keyframes spin-slow {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 3s linear infinite; }
    </style>
    <script>
    document.getElementById('join-form').addEventListener('submit', function(e) {
      document.getElementById('join-text').textContent = 'Joining...';
      document.getElementById('join-spinner').classList.remove('hidden');
    });
    </script>
</body>
</html>